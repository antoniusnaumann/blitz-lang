fn kinds(tokens List(Token)) List(TokenKind) {
    for tokens |token| { token.kind }
}

test "Lex empty func" {
    let tokens = "fn foo() {}".lex().kinds()
    assert tokens == [fn_, ident, lparen, rparen, lbrace, rbrace]
}

test "Lex empty struct" {
    let tokens = "struct Foo {}".lex().kinds()
    assert tokens == [struct_, type, lbrace, rbrace]
}

test "Lex operators" {
    let tokens = "+++-*/%".lex().kinds()
    assert tokens == [concat, add, sub, mul, div, rem]
}

test "Lex assignment operators" {
    let tokens = "++=+=-=*= /=%=".lex().kinds()
    assert tokens == [concat_assign, add_assign, sub_assign, mul_assign, div_assign, rem_assign]
}
